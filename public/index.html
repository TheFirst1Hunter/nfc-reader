<!-- index.html -->
<!DOCTYPE html>
<html>
  <head>
    <title>NFC Card Reader</title>
  </head>
  <body>
    <h1>NFC Card Reader</h1>
    <div id="cardData"></div>
    <select id="cardType" onchange="typeChanged()">
      <option value="new">new</option>
      <option value="old">old</option>
    </select>
    <div id="root"></div>

    <script>
      const { ipcRenderer } = require("electron");
      console.log("init");
      ipcRenderer.on("cardData", (event, card) => {
        const cardDataElement = document.getElementById("cardData");
        cardDataElement.innerHTML = JSON.stringify(card, null, 2);
        console.log("Da");
      });

      function typeChanged() {
        let selectElement = document.querySelector("#cardType");
        let output = selectElement.value;
        ipcRenderer.send("cardTypeChanged", output);
      }
    </script>
  </body>
</html>
